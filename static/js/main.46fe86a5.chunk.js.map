{"version":3,"sources":["services/dataService.js","components/WhispersList.js","components/WhisperDetails.js","components/NewWhisper.js","App.js","index.js"],"names":["dataService","getStubsData","stubsData","WhispersList","_Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","autoBind","assertThisInitialized","inherits","createClass","key","value","_this2","whispers","filter","whisper","isDeleted","map","react_default","a","createElement","className","id","Link","to","concat","title","commentsCount","onClick","_","deleteWhisper","Fragment","renderWhispersList","Component","WhisperDetails","commentText","comments","isNotFound","length","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","item","Number","err","return","whisperId","addComment","setState","e","target","keyCode","comment","index","getWhisperDetais","match","params","renderComments","type","name","placeholder","onChange","handleInputChange","onKeyUp","handleEnterPress","maxLength","NewWhisper","whisperTitle","isRedirectNeeded","newWisper","addWhisper","Redirect","nextWhisperId","App","persistedData","localStorage","getItem","parsedData","JSON","parse","stubData","setItem","stringify","newState","newItem","objectSpread","toConsumableArray","newWhisper","Switch","Route","path","exact","render","components_WhisperDetails","assign","components_WhispersList","components_NewWhisper","ReactDOM","BrowserRouter","basename","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.46fe86a5.chunk.js","sourcesContent":["import stubsData from '../data/initialData.json';\r\n\r\nexport default {\r\n  getStubsData\r\n};\r\n\r\nfunction getStubsData() {\r\n  return stubsData;\r\n}\r\n","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport autoBind from 'react-autobind';\r\nimport {Link} from 'react-router-dom';\r\n\r\nexport class WhispersList extends Component {\r\n  static propTypes = {\r\n    whispers: PropTypes.array.isRequired,\r\n    deleteWhisper: PropTypes.func.isRequired\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n\r\n    autoBind(this);\r\n  }\r\n\r\n  renderWhispersList() {\r\n    return (\r\n      this.props.whispers &&\r\n      this.props.whispers\r\n        .filter(whisper => !whisper.isDeleted)\r\n        .map(whisper => (\r\n          <div className=\"item-block\" key={whisper.id}>\r\n            <Link to={`/sayer/whispers/${whisper.id}`} className=\"item-text caption-with-ellipsis\" title=\"View comments\">\r\n              {whisper.title}\r\n            </Link>\r\n\r\n            <div className=\"container-item-controls\">\r\n              <div className=\"item-circle\">\r\n                <div className=\"item-text white\">{whisper.commentsCount}</div>\r\n              </div>\r\n              <div\r\n                className=\"item-delete-pink link\"\r\n                onClick={_ => this.props.deleteWhisper(whisper.id)}\r\n              >\r\n                <div className=\"item-text white\">Delete</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"header-block\">\r\n          <div className=\"container-flex-col\">\r\n            <h1 className=\"heading-brand\">Sayer</h1>\r\n            <h5 className=\"heading-brand-small\">World's most user time waster</h5>\r\n          </div>\r\n        </div>\r\n\r\n        {this.renderWhispersList()}\r\n\r\n        <div className=\"add-item-block\">\r\n          <Link to={`/sayer/whisper-new`} className=\"item-circle-add\" title=\"Add new whisper\">\r\n            <div className=\"item-text-plus white\">+</div>\r\n          </Link>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default WhispersList;\r\n","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport autoBind from 'react-autobind';\r\nimport {Link} from 'react-router-dom';\r\n\r\nexport class WhisperDetails extends Component {\r\n  static propTypes = {\r\n    whispers: PropTypes.array.isRequired,\r\n    addComment: PropTypes.func.isRequired\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      commentText: ''\r\n    };\r\n\r\n    autoBind(this);\r\n  }\r\n\r\n  getWhisperDetais(id) {\r\n    let whisper = {\r\n      id,\r\n      title: `404: The whisper #${id} is NOT FOUND`,\r\n      comments: [],\r\n      isNotFound: true\r\n    };\r\n\r\n    if (this.props.whispers && this.props.whispers.length > 0) {\r\n      for (const item of this.props.whispers) {\r\n        if (Number(item.id) === Number(id)) {\r\n          return item;\r\n        }\r\n      }\r\n    }\r\n\r\n    return whisper;\r\n  }\r\n\r\n  addComment(whisperId) {\r\n    if (!this.state.commentText) return;\r\n\r\n    this.props.addComment(whisperId, this.state.commentText);\r\n\r\n    this.setState({commentText: ''});\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    this.setState({\r\n      commentText: e.target.value\r\n    });\r\n  }\r\n\r\n  handleEnterPress(whisperId, e) {\r\n    if (e.keyCode === 13) {\r\n      this.addComment(whisperId);\r\n    }\r\n  }\r\n\r\n  renderComments(comments) {\r\n    return (\r\n      comments.length > 0 &&\r\n      comments.map((comment, index) => (\r\n        <div key={index} className=\"item-details-block\">\r\n          <div className=\"container-flex-row\">\r\n            <div className=\"item-square\" />\r\n            <p className=\"common-text\">{comment}</p>\r\n          </div>\r\n        </div>\r\n      ))\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const whisper = this.getWhisperDetais(this.props.match.params.id);\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"header-block\">\r\n          <div className=\"container-flex-row\">\r\n            <Link to={`/sayer/whispers`} className=\"item-circle link\" title=\"Back to whispers\">\r\n              <div className=\"item-text white\">⟵</div>\r\n            </Link>\r\n            <h2 className=\"heading-item\">{whisper.title}</h2>\r\n          </div>\r\n        </div>\r\n\r\n        {this.renderComments(whisper.comments)}\r\n\r\n        {!whisper.isNotFound && (\r\n          <div className=\"item-new-comment-block\">\r\n            <div className=\"container-flex-row\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"add_comment\"\r\n                className=\"input-item input-text\"\r\n                placeholder=\"New comment goes here...\"\r\n                value={this.state.commentText}\r\n                onChange={this.handleInputChange}\r\n                onKeyUp={e => this.handleEnterPress(whisper.id, e)}\r\n                maxLength=\"500\"\r\n              />\r\n              <div className=\"item-circle link\" onClick={_ => this.addComment(whisper.id)}>\r\n                <div className=\"item-text white\">&gt;</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default WhisperDetails;\r\n","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport autoBind from 'react-autobind';\r\nimport {Link, Redirect} from 'react-router-dom';\r\n\r\nexport class NewWhisper extends Component {\r\n  static propTypes = {\r\n    nextWhisperId: PropTypes.number.isRequired,\r\n    addWhisper: PropTypes.func.isRequired\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      whisperTitle: '',\r\n      isRedirectNeeded: false\r\n    };\r\n\r\n    autoBind(this);\r\n  }\r\n\r\n  addWhisper(whisperId) {\r\n    if (!this.state.whisperTitle) return;\r\n\r\n    let newWisper = {\r\n      id: whisperId,\r\n      title: this.state.whisperTitle,\r\n      comments: [],\r\n      commentsCount: 0,\r\n      isDeleted: false\r\n    };\r\n\r\n    this.props.addWhisper(newWisper);\r\n\r\n    this.setState({\r\n      whisperTitle: '',\r\n      isRedirectNeeded: true\r\n    });\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    this.setState({\r\n      whisperTitle: e.target.value\r\n    });\r\n  }\r\n\r\n  handleEnterPress(whisperId, e) {\r\n    if (e.keyCode === 13) {\r\n      this.addWhisper(whisperId);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        {this.state.isRedirectNeeded && <Redirect to=\"/sayer/whispers\" />}\r\n\r\n        <div className=\"header-block\">\r\n          <div className=\"container-flex-row\">\r\n            <Link to={`/sayer/whispers`} className=\"item-circle link\" title=\"Back to whispers\">\r\n              <div className=\"item-text white\">⟵</div>\r\n            </Link>\r\n            <h2 className=\"heading-item\">Create new item</h2>\r\n          </div>\r\n        </div>\r\n        <div className=\"item-new-block\">\r\n          <div className=\"container-flex-row\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"add_whisper\"\r\n              className=\"input-item input-text\"\r\n              placeholder=\"New item title...\"\r\n              value={this.state.whisperTitle}\r\n              onChange={this.handleInputChange}\r\n              onKeyUp={e => this.handleEnterPress(this.props.nextWhisperId, e)}\r\n              maxLength=\"150\"\r\n            />\r\n\r\n            <div\r\n              className=\"item-circle link\"\r\n              onClick={_ => this.addWhisper(this.props.nextWhisperId)}\r\n            >\r\n              <div className=\"item-text white\">&gt;</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewWhisper;\r\n","import React, {Component} from 'react';\r\nimport {Switch, Route, Redirect} from 'react-router-dom';\r\nimport autoBind from 'react-autobind';\r\n\r\nimport dataService from './services/dataService';\r\nimport './App.css';\r\n\r\nimport WhispersList from './components/WhispersList';\r\nimport WhisperDetails from './components/WhisperDetails';\r\nimport NewWhisper from './components/NewWhisper';\r\n\r\nconst APPNAME = 'Sayer';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      whispers: []\r\n    };\r\n\r\n    autoBind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    let persistedData = localStorage.getItem(APPNAME);\r\n\r\n    if (persistedData) {\r\n      let parsedData = JSON.parse(persistedData);\r\n\r\n      this.setState({whispers: parsedData.whispers});\r\n    } else {\r\n      let stubData = dataService.getStubsData();\r\n\r\n      localStorage.setItem(APPNAME, JSON.stringify(stubData));\r\n      this.setState({whispers: stubData.whispers});\r\n    }\r\n  }\r\n\r\n  addComment(whisperId, commentText) {\r\n    const newState = this.state.whispers.map(item => {\r\n      let newItem = {\r\n        ...item,\r\n        comments: [...item.comments]\r\n      };\r\n\r\n      if (item.id === Number(whisperId)) {\r\n        newItem.comments = [...newItem.comments, commentText];\r\n        newItem.commentsCount++;\r\n      }\r\n\r\n      return newItem;\r\n    });\r\n\r\n    localStorage.setItem(APPNAME, JSON.stringify({whispers: newState}));\r\n    this.setState({whispers: newState});\r\n  }\r\n\r\n  deleteWhisper(whisperId) {\r\n    const newState = this.state.whispers.map(item => {\r\n      let newItem = {\r\n        ...item\r\n      };\r\n\r\n      if (item.id === Number(whisperId)) {\r\n        newItem.isDeleted = true;\r\n      }\r\n\r\n      return newItem;\r\n    });\r\n\r\n    localStorage.setItem(APPNAME, JSON.stringify({whispers: newState}));\r\n    this.setState({whispers: newState});\r\n  }\r\n\r\n  addWhisper(newWhisper) {\r\n    const newState = [...this.state.whispers, newWhisper];\r\n\r\n    localStorage.setItem(APPNAME, JSON.stringify({whispers: newState}));\r\n    this.setState({whispers: newState});\r\n  }\r\n\r\n  render() {\r\n    let nextWhisperId = this.state.whispers.length + 1;\r\n\r\n    return (\r\n      <div className=\"section-main container-main\">\r\n        <Switch>\r\n          <Route\r\n            path=\"/sayer/whispers/:id\"\r\n            exact={true}\r\n            render={props => (\r\n              <WhisperDetails\r\n                {...props}\r\n                whispers={this.state.whispers}\r\n                addComment={this.addComment}\r\n              />\r\n            )}\r\n          />\r\n          <Route\r\n            path=\"/sayer/whispers\"\r\n            exact={true}\r\n            render={props => (\r\n              <WhispersList\r\n                {...props}\r\n                whispers={this.state.whispers}\r\n                deleteWhisper={this.deleteWhisper}\r\n              />\r\n            )}\r\n          />\r\n          <Route\r\n            path=\"/sayer/whisper-new\"\r\n            exact={true}\r\n            render={props => (\r\n              <NewWhisper {...props} nextWhisperId={nextWhisperId} addWhisper={this.addWhisper} />\r\n            )}\r\n          />\r\n          } />\r\n          <Redirect to=\"/sayer/whispers\" />\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <BrowserRouter basename=\"/\">\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}